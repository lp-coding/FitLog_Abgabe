:root{
  --bg: #f6f7f9;
  --surface: #ffffff;
  --text: #111827;
  --muted: #6b7280;
  --border: #d1d5db;

  --primary: #111827;
  --primary-contrast: #ffffff;

  --radius: 12px;
  --shadow: 0 8px 24px rgba(0,0,0,.08);

  --s-1: .25rem;
  --s-2: .5rem;
  --s-3: .75rem;
  --s-4: 1rem;
  --s-6: 1.5rem;
  --s-8: 2rem;
}

/* =========================
   Base / Reset
========================= */
*{ box-sizing: border-box; }
html, body{ height: 100%; }
body{
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

.container{
  max-width: 980px;
  margin: 0 auto;
  padding: var(--s-8);
}

header{
  background: var(--surface);
  border-bottom: 1px solid var(--border);
}
header h1{
  margin: 0;
  padding: 0;
  font-size: 1.25rem;
  letter-spacing: .2px;
}

main{
  max-width: none;
  margin: 0;
  padding: 0;
}

/* Screenreader only */
.sr-only{
  position:absolute;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* =========================
   Flash Messages
========================= */
.flash-container{ margin-bottom: var(--s-6); display: grid; gap: var(--s-2); }
.flash{
  background: var(--surface);
  border: 1px solid var(--border);
  border-left: 6px solid var(--border);
  padding: var(--s-3) var(--s-4);
  border-radius: var(--radius);
}
.flash.success{ border-left-color: #16a34a; }
.flash.warning{ border-left-color: #f59e0b; }
.flash.error{ border-left-color: #dc2626; }
.flash.info{ border-left-color: #2563eb; }

/* =========================
   Components: Card / Buttons / Inputs
========================= */
.card{
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.card-body { padding: var(--s-4); }

.table-scroll { overflow-x: auto; }

.btn, button{
  font: inherit;
}
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: .5rem;
  padding: .55rem .95rem;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor: pointer;
}
.btn:hover{ filter: brightness(.98); }
.btn:disabled{ opacity: .55; cursor: not-allowed; }

.btn-primary{
  background: var(--primary);
  color: var(--primary-contrast);
  border-color: var(--primary);
}
.btn-secondary{
  background: #f3f4f6;
}
.btn--outline{
  background: transparent;
}

.icon-btn{
  width: 2rem; height: 2rem;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor: pointer;
}
.icon-btn:hover{ filter: brightness(.98); }

.input,
.input-num,
.input-note,
.input-select,
.plan-name-input{
  font: inherit;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: .55rem .65rem;
  background: #fff;
}
.input:focus,
.input-num:focus,
.input-note:focus,
.input-select:focus,
.plan-name-input:focus{
  outline: 2px solid rgba(17,24,39,.18);
  outline-offset: 1px;
}
.input-note{ width: 100%; }
.input-num{ width: 100%; max-width: 9rem; }

/* =========================
   Tables
========================= */
.table, .table-edit{
  width: 100%;
  border-collapse: collapse;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}
.table th, .table td,
.table-edit th, .table-edit td{
  padding: .65rem .75rem;
  border-bottom: 1px solid var(--border);
}
.table thead th,
.table-edit thead th{
  background: #f3f4f6;
  font-weight: 600;
  text-align: left;
}
.muted{ color: var(--muted); }

/* Drag & Drop row */
.drag{ cursor: grab; user-select: none; color: var(--muted); width: 2rem; text-align:center; }
.dnd-row.is-dragging{ opacity: .6; }

/* =========================
   Pages: Start (index.html)
========================= */
.start-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 3rem;
  align-items:start;
}
@media (max-width: 900px){
  .start-grid{ grid-template-columns: 1fr; }
}

.listbox{
  width:100%;
  min-height:210px;
  border:1px solid var(--border);
  background:#fff;
  padding: .4rem;
  border-radius: 10px;
}

.row{ display:flex; }
.col{ display:flex; flex-direction:column; }
.gap{ gap:.6rem; margin-top:.6rem; }

.center{ text-align:center; margin-top:2rem; }
.big{
  padding:.9rem 2.2rem;
  border:1px solid var(--primary);
  background: var(--surface);
  font-size:1rem;
  border-radius: 12px;
}
.big:disabled{ opacity:.55; cursor:not-allowed; }

/* =========================
   Pages: Plan edit (edit.html)
========================= */
.plan-edit{ display: grid; gap: var(--s-4); }
.plan-header{
  display:flex;
  gap: var(--s-3);
  align-items:center;
}
.plan-name-input{
  flex: 1;
  font-size: 1.1rem;
  font-weight: 600;
}
.footer-bar{
  display:flex;
  gap: var(--s-4);
  justify-content: space-between;
  align-items:center;
  flex-wrap: wrap;
}
.actions{ display:flex; gap: var(--s-2); }

/* =========================
   Pages: Progess (progress_plan.html)
========================= */
.progress-header{
  position: relative;              /* wichtig für absolute Position des X */
}

.progress-close{
  position: absolute;
  top: var(--s-3);
  right: var(--s-3);
}

/* Chart-Bereich in der Card */
.progress-chart{
  padding: var(--s-4);
  overflow: hidden;          /* verhindert “rausragen” */
}

/* Bild responsiv begrenzen */
.progress-chart__img{
  display: block;
  width: 100%;
  max-width: 100%;
  height: auto;
  max-height: 420px;         /* <- macht es weniger dominant */
  object-fit: contain;
  margin: 0 auto;
}

.progress-footer{
  display: flex;
  justify-content: flex-end;       /* nach rechts */
  padding: var(--s-4);
}
/* Optional: bei sehr breiten Screens etwas mehr Höhe erlauben */
@media (min-width: 1100px){
  .progress-chart__img{ max-height: 480px; }
}

/* =========================
   Utilities
========================= */
.is-hidden{
  display: none !important;
}

/* =========================
   Pages: Plan edit (edit.html) – Column widths (replaces inline styles)
========================= */
.table-edit th.col-drag{ width: 2rem; }
.table-edit th.col-sets{ width: 8rem; }
.table-edit th.col-reps{ width: 8rem; }
.table-edit th.col-weight{ width: 10rem; }
.table-edit th.col-actions{ width: 3rem; }
